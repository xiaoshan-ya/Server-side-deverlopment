2023-03-28 20:47:00,519 INFO SPI service [com.alipay.sofa.jraft.JRaftServiceFactory - com.alipay.sofa.jraft.core.DefaultJRaftServiceFactory] loading.

2023-03-28 20:47:00,761 INFO SPI service [com.alipay.sofa.jraft.rpc.RaftRpcFactory - com.alipay.sofa.jraft.rpc.impl.GrpcRaftRpcFactory] loading.

2023-03-28 20:47:01,491 INFO SPI service [com.alipay.sofa.jraft.util.JRaftSignalHandler - com.alipay.sofa.jraft.NodeDescribeSignalHandler] loading.

2023-03-28 20:47:01,496 INFO SPI service [com.alipay.sofa.jraft.util.JRaftSignalHandler - com.alipay.sofa.jraft.NodeMetricsSignalHandler] loading.

2023-03-28 20:47:01,510 INFO SPI service [com.alipay.sofa.jraft.util.JRaftSignalHandler - com.alipay.sofa.jraft.ThreadPoolMetricsSignalHandler] loading.

2023-03-28 20:47:01,518 INFO SPI service [com.alipay.sofa.jraft.util.timer.RaftTimerFactory - com.alipay.sofa.jraft.util.timer.DefaultRaftTimerFactory] loading.

2023-03-28 20:47:01,541 INFO The number of active nodes increment to 1.

2023-03-28 20:47:02,027 INFO Starts FSMCaller successfully.

2023-03-28 20:47:02,055 WARN No data for snapshot reader /home/nacos/data/protocol/raft/naming_persistent_service_v2/snapshot.

2023-03-28 20:47:02,115 INFO Node <naming_persistent_service_v2/f04ca6677ef6:7848> init, term=0, lastLogId=LogId [index=0, term=0], conf=f04ca6677ef6:7848, oldConf=.

2023-03-28 20:47:02,123 INFO Node <naming_persistent_service_v2/f04ca6677ef6:7848> start vote and grant vote self, term=0.

2023-03-28 20:47:02,196 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_persistent_service_v2/meta-data, term=1, votedFor=f04ca6677ef6:7848, cost time=58 ms

2023-03-28 20:47:02,199 INFO Node <naming_persistent_service_v2/f04ca6677ef6:7848> become leader of group, term=1, conf=f04ca6677ef6:7848, oldConf=.

2023-03-28 20:47:02,205 INFO -Djraft.recyclers.maxCapacityPerThread: 4096.

2023-03-28 20:47:02,215 WARN RPC server is not started in RaftGroupService.

2023-03-28 20:47:02,216 INFO Start the RaftGroupService successfully.

2023-03-28 20:47:02,241 INFO onLeaderStart: term=1.

2023-03-28 20:47:02,278 INFO The number of active nodes increment to 2.

2023-03-28 20:47:02,418 INFO Starts FSMCaller successfully.

2023-03-28 20:47:02,422 WARN No data for snapshot reader /home/nacos/data/protocol/raft/naming_instance_metadata/snapshot.

2023-03-28 20:47:02,432 INFO Node <naming_instance_metadata/f04ca6677ef6:7848> init, term=0, lastLogId=LogId [index=0, term=0], conf=f04ca6677ef6:7848, oldConf=.

2023-03-28 20:47:02,438 INFO Node <naming_instance_metadata/f04ca6677ef6:7848> start vote and grant vote self, term=0.

2023-03-28 20:47:02,457 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_instance_metadata/meta-data, term=1, votedFor=f04ca6677ef6:7848, cost time=15 ms

2023-03-28 20:47:02,459 INFO Node <naming_instance_metadata/f04ca6677ef6:7848> become leader of group, term=1, conf=f04ca6677ef6:7848, oldConf=.

2023-03-28 20:47:02,464 WARN RPC server is not started in RaftGroupService.

2023-03-28 20:47:02,465 INFO Start the RaftGroupService successfully.

2023-03-28 20:47:02,482 INFO onLeaderStart: term=1.

2023-03-28 20:47:02,487 INFO The number of active nodes increment to 3.

2023-03-28 20:47:02,631 WARN Channel in TRANSIENT_FAILURE state: f04ca6677ef6:7848.

2023-03-28 20:47:02,634 WARN Channel in SHUTDOWN state: f04ca6677ef6:7848.

2023-03-28 20:47:02,673 INFO Starts FSMCaller successfully.

2023-03-28 20:47:02,676 WARN No data for snapshot reader /home/nacos/data/protocol/raft/naming_service_metadata/snapshot.

2023-03-28 20:47:02,681 INFO Node <naming_service_metadata/f04ca6677ef6:7848> init, term=0, lastLogId=LogId [index=0, term=0], conf=f04ca6677ef6:7848, oldConf=.

2023-03-28 20:47:02,685 INFO Node <naming_service_metadata/f04ca6677ef6:7848> start vote and grant vote self, term=0.

2023-03-28 20:47:02,704 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_service_metadata/meta-data, term=1, votedFor=f04ca6677ef6:7848, cost time=16 ms

2023-03-28 20:47:02,706 INFO Node <naming_service_metadata/f04ca6677ef6:7848> become leader of group, term=1, conf=f04ca6677ef6:7848, oldConf=.

2023-03-28 20:47:02,711 WARN RPC server is not started in RaftGroupService.

2023-03-28 20:47:02,712 INFO Start the RaftGroupService successfully.

2023-03-28 20:47:02,726 INFO onLeaderStart: term=1.

2023-03-28 20:47:03,682 ERROR Fail to connect f04ca6677ef6:7848, remoting exception: java.util.concurrent.ExecutionException: io.grpc.StatusRuntimeException: DEADLINE_EXCEEDED: deadline exceeded after 796204117ns. [buffered_nanos=811840809, waiting_for_connection].

2023-03-28 20:47:03,681 ERROR Fail to connect f04ca6677ef6:7848, remoting exception: java.util.concurrent.ExecutionException: io.grpc.StatusRuntimeException: DEADLINE_EXCEEDED: deadline exceeded after 785246752ns. [buffered_nanos=792660298, waiting_for_connection].

2023-03-28 20:47:03,685 ERROR Fail to connect peer f04ca6677ef6:7848 to get leader for group naming_instance_metadata.

2023-03-28 20:47:03,686 ERROR Fail to connect peer f04ca6677ef6:7848 to get leader for group naming_persistent_service_v2.

2023-03-28 21:04:14,557 INFO Deleting snapshot /home/nacos/data/protocol/raft/naming_service_metadata/snapshot/snapshot_1.

2023-03-28 21:04:14,560 INFO Renaming /home/nacos/data/protocol/raft/naming_service_metadata/snapshot/temp to /home/nacos/data/protocol/raft/naming_service_metadata/snapshot/snapshot_1.

2023-03-28 21:14:46,936 INFO Deleting snapshot /home/nacos/data/protocol/raft/naming_persistent_service_v2/snapshot/snapshot_1.

2023-03-28 21:14:46,938 INFO Renaming /home/nacos/data/protocol/raft/naming_persistent_service_v2/snapshot/temp to /home/nacos/data/protocol/raft/naming_persistent_service_v2/snapshot/snapshot_1.

2023-03-28 21:16:06,493 INFO Deleting snapshot /home/nacos/data/protocol/raft/naming_instance_metadata/snapshot/snapshot_1.

2023-03-28 21:16:06,494 INFO Renaming /home/nacos/data/protocol/raft/naming_instance_metadata/snapshot/temp to /home/nacos/data/protocol/raft/naming_instance_metadata/snapshot/snapshot_1.

2023-03-28 21:39:52,624 INFO Node <naming_service_metadata/f04ca6677ef6:7848> shutdown, currTerm=1 state=STATE_LEADER.

2023-03-28 21:39:52,630 INFO onLeaderStop: status=Status[ESHUTDOWN<1007>: Raft node is going to quit.].

2023-03-28 21:39:52,630 INFO Fail to find the next candidate.

2023-03-28 21:39:52,643 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_service_metadata/meta-data, term=1, votedFor=f04ca6677ef6:7848, cost time=10 ms

2023-03-28 21:39:52,644 INFO Shutting down FSMCaller...

2023-03-28 21:39:52,645 INFO onShutdown.

2023-03-28 21:39:52,648 INFO ThreadPool is terminated: JRaft-RPC-Processor, com.alipay.sofa.jraft.util.MetricThreadPoolExecutor@2b47fcac[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0].

2023-03-28 21:39:52,651 INFO ThreadPool is terminated: JRaft-Node-ScheduleThreadPool, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@4f07d5cd[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0].

2023-03-28 21:39:52,653 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=5000, name='JRaft-ElectionTimer-<naming_service_metadata/f04ca6677ef6:7848>'}.

2023-03-28 21:39:52,653 INFO The number of active nodes decrement to 2.

2023-03-28 21:39:52,654 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=5000, name='JRaft-VoteTimer-<naming_service_metadata/f04ca6677ef6:7848>'}.

2023-03-28 21:39:52,654 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=2500, name='JRaft-StepDownTimer-<naming_service_metadata/f04ca6677ef6:7848>'}.

2023-03-28 21:39:52,655 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=1800000, name='JRaft-SnapshotTimer-<naming_service_metadata/f04ca6677ef6:7848>'}.

2023-03-28 21:39:52,656 INFO Node <naming_service_metadata/f04ca6677ef6:7848> shutdown, currTerm=1 state=STATE_SHUTTING.

2023-03-28 21:39:52,657 INFO Stop the RaftGroupService successfully.

2023-03-28 21:39:52,659 INFO Node <naming_instance_metadata/f04ca6677ef6:7848> shutdown, currTerm=1 state=STATE_LEADER.

2023-03-28 21:39:52,660 INFO Fail to find the next candidate.

2023-03-28 21:39:52,660 INFO onLeaderStop: status=Status[ESHUTDOWN<1007>: Raft node is going to quit.].

2023-03-28 21:39:52,671 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_instance_metadata/meta-data, term=1, votedFor=f04ca6677ef6:7848, cost time=9 ms

2023-03-28 21:39:52,671 INFO Shutting down FSMCaller...

2023-03-28 21:39:52,672 INFO onShutdown.

2023-03-28 21:39:52,674 INFO ThreadPool is terminated: JRaft-RPC-Processor, com.alipay.sofa.jraft.util.MetricThreadPoolExecutor@3667a170[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0].

2023-03-28 21:39:52,675 INFO ThreadPool is terminated: JRaft-Node-ScheduleThreadPool, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@25d42ca7[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0].

2023-03-28 21:39:52,675 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=5000, name='JRaft-ElectionTimer-<naming_instance_metadata/f04ca6677ef6:7848>'}.

2023-03-28 21:39:52,676 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=5000, name='JRaft-VoteTimer-<naming_instance_metadata/f04ca6677ef6:7848>'}.

2023-03-28 21:39:52,676 INFO The number of active nodes decrement to 1.

2023-03-28 21:39:52,676 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=2500, name='JRaft-StepDownTimer-<naming_instance_metadata/f04ca6677ef6:7848>'}.

2023-03-28 21:39:52,677 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=1800000, name='JRaft-SnapshotTimer-<naming_instance_metadata/f04ca6677ef6:7848>'}.

2023-03-28 21:39:52,678 INFO Node <naming_instance_metadata/f04ca6677ef6:7848> shutdown, currTerm=1 state=STATE_SHUTTING.

2023-03-28 21:39:52,678 INFO Stop the RaftGroupService successfully.

2023-03-28 21:39:52,678 INFO Node <naming_persistent_service_v2/f04ca6677ef6:7848> shutdown, currTerm=1 state=STATE_LEADER.

2023-03-28 21:39:52,679 INFO Fail to find the next candidate.

2023-03-28 21:39:52,679 INFO onLeaderStop: status=Status[ESHUTDOWN<1007>: Raft node is going to quit.].

2023-03-28 21:39:52,689 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_persistent_service_v2/meta-data, term=1, votedFor=f04ca6677ef6:7848, cost time=8 ms

2023-03-28 21:39:52,689 INFO Shutting down FSMCaller...

2023-03-28 21:39:52,689 INFO onShutdown.

2023-03-28 21:39:52,691 INFO ThreadPool is terminated: JRaft-RPC-Processor, com.alipay.sofa.jraft.util.MetricThreadPoolExecutor@7aab74bd[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0].

2023-03-28 21:39:52,691 INFO ThreadPool is terminated: JRaft-Node-ScheduleThreadPool, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@71cc36b9[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0].

2023-03-28 21:39:52,692 INFO The number of active nodes decrement to 0.

2023-03-28 21:39:52,699 INFO ThreadPool is terminated: JRaft-Global-ElectionTimer, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@71124d05[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 3].

2023-03-28 21:39:52,700 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=5000, name='JRaft-ElectionTimer-<naming_persistent_service_v2/f04ca6677ef6:7848>'}.

2023-03-28 21:39:52,704 INFO ThreadPool is terminated: JRaft-Global-VoteTimer, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@3d5aec78[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 3].

2023-03-28 21:39:52,704 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=5000, name='JRaft-VoteTimer-<naming_persistent_service_v2/f04ca6677ef6:7848>'}.

2023-03-28 21:39:52,707 INFO ThreadPool is terminated: JRaft-Global-StepDownTimer, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@40df429b[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 3801].

2023-03-28 21:39:52,708 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=2500, name='JRaft-StepDownTimer-<naming_persistent_service_v2/f04ca6677ef6:7848>'}.

2023-03-28 21:39:52,711 INFO ThreadPool is terminated: JRaft-Global-SnapshotTimer, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@44dc9148[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 4].

2023-03-28 21:39:52,711 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=1800000, name='JRaft-SnapshotTimer-<naming_persistent_service_v2/f04ca6677ef6:7848>'}.

2023-03-28 21:39:52,712 INFO Node <naming_persistent_service_v2/f04ca6677ef6:7848> shutdown, currTerm=1 state=STATE_SHUTTING.

2023-03-28 21:39:52,713 INFO Stop the RaftGroupService successfully.

2023-03-28 21:39:52,715 INFO Shutdown managed channel: f04ca6677ef6:7848, ManagedChannelOrphanWrapper{delegate=ManagedChannelImpl{logId=10, target=f04ca6677ef6:7848}}.

2023-03-28 21:39:52,763 INFO Connection disconnected: /172.18.0.2:59882

2023-03-28 21:39:52,766 INFO ThreadPool is terminated: JRaft-RPC-Processor, com.alipay.sofa.jraft.util.MetricThreadPoolExecutor@32dac176[Shutting down, pool size = 9, active threads = 0, queued tasks = 0, completed tasks = 2892].

